<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Transparent pricing for turning your boat photos into merch-ready designs and die-cut stickers." />
  <meta name="keywords" content="boat stickers price, custom boat shirt cost, AI boat art pricing" />
  <meta name="author" content="Boat2Merch" />
  <title>Pricing - Boat2Merch</title>
  <link rel="icon" type="image/png" sizes="32x32" href="/images/icon.png?v=3">
  <link rel="stylesheet" href="style.css" />

  <style>
    /* --- Page-scoped enhancements --- */
    .plans-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 18px;
    }
    @media (max-width: 900px) { .plans-grid { grid-template-columns: 1fr; } }

    .plan.card.pad { position: relative; overflow: visible; isolation: isolate; }
    .plan { transition: transform .2s ease, box-shadow .2s ease; box-shadow: 0 8px 24px rgba(0,0,0,.25); }
    .plan:hover { transform: translateY(-6px); box-shadow: 0 14px 36px rgba(0,0,0,.35); }

    .plan.featured {
      border: 2px solid transparent;
      background:
        linear-gradient(#1b1b1b,#1b1b1b) padding-box,
        linear-gradient(135deg,#ffb347 0%,#ff9800 40%,#ffd28a 65%,#ff9800 100%) border-box;
      box-shadow: 0 0 0 1px rgba(255,152,0,.15) inset, 0 12px 30px rgba(255,152,0,.14);
    }

    .ribbon {
      --angle: 35deg;
      position: absolute;
      top: 18px;
      right: -34px;
      transform: rotate(var(--angle));
      z-index: 3;
      pointer-events: none;
    }
    .ribbon .band {
      display: inline-block;
      padding: 10px 72px;
      font-weight: 800;
      font-size: .82rem;
      letter-spacing: .6px;
      color: #121212;
      background: linear-gradient(180deg,#ffc86f 0%, #ff9800 60%, #f18800 100%);
      text-shadow: 0 1px 0 rgba(255,255,255,.25);
      clip-path: polygon(7% 0%, 93% 0%, 100% 50%, 93% 100%, 7% 100%, 0% 50%);
      box-shadow: 0 0 0 1px rgba(255,207,133,.9) inset, 0 10px 22px rgba(0,0,0,.35);
      position: relative;
    }
    .ribbon .band::after {
      content:"";
      position:absolute; inset: 2px 6px;
      background:
        linear-gradient(180deg, rgba(255,255,255,.18), transparent 35%),
        linear-gradient(0deg, rgba(0,0,0,.12), transparent 20%);
      clip-path: inherit;
    }
    .ribbon::before {
      content:"";
      position:absolute;
      inset: 12px -80px 12px -80px;
      background: radial-gradient(80% 60% at 50% 50%, rgba(0,0,0,.35), rgba(0,0,0,0) 70%);
      transform: rotate(calc(var(--angle) * -1));
      z-index: -1;
      filter: blur(6px);
      opacity:.6;
    }
    .ribbon .tail-left,
    .ribbon .tail-right {
      position: absolute; top: 50%; width: 16px; height: 18px; transform: translateY(-50%);
      background: linear-gradient(180deg,#e07f00,#b86200);
      box-shadow: 0 2px 4px rgba(0,0,0,.3) inset;
    }
    .ribbon .tail-left  { left: -10px;  clip-path: polygon(100% 0, 0 50%, 100% 100%); }
    .ribbon .tail-right { right: -10px;  clip-path: polygon(0 0, 100% 50%, 0 100%); }

    .price {
      font-size: 2.2em;
      margin: 10px 0 4px;
      background: linear-gradient(180deg,#ffd28a 0%, #ff9800 60%, #ff7a00 100%);
      -webkit-background-clip: text; background-clip: text; color: transparent;
    }
    .price small { font-size:.55em; color:#cfcfcf; }

    .plan ul { text-align:left; margin-top:12px; }
    .plan ul li::marker { content:"✓ "; color:#4caf50; }

    .faq-grid { display:grid; grid-template-columns: repeat(2, 1fr); gap: 18px; }
    @media (max-width: 900px) { .faq-grid { grid-template-columns: 1fr; } }

    .error-bar {
      margin-top: 12px;
      padding: 10px 12px;
      border-radius: 10px;
      background: #2a1b1b;
      border: 1px solid #553333;
      color: #ffb3b3;
      display: none;
    }
    .success-bar {
      margin-top: 12px;
      padding: 10px 12px;
      border-radius: 10px;
      background: #1e2a1e;
      border: 1px solid #335533;
      color: #b7ffb3;
      display: none;
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="site-header">
    <div class="container nav-row">
      <!-- Left group: brand + nav -->
      <div class="brand">
        <img src="/images/icon.png" class="logo-img" alt="" width="40" height="40" />
        <span>Boat2Merch</span>
      </div>
      <nav class="topnav" aria-label="Primary">
        <a href="index.html">Home</a>
        <a href="how-it-works.html">How It Works</a>
        <a href="pricing.html" class="active">Pricing</a>
        <a href="examples.html">Examples</a>
        <a href="contact.html">Contact</a>
      </nav>

      <!-- Right group: plan badge + auth pill/sign-in -->
      <div class="account-area">
        <span id="planBadge" class="plan-badge">FREE</span>

        <!-- Sign in button (shown when logged out) -->
        <button id="signinBtn" class="btn btn-ghost small">Sign in</button>

        <!-- Signed-in pill (shown when logged in) -->
        <div id="userPill" class="signed-in-pill hidden">
          <span id="userEmail" class="email"></span>
          <button id="signoutBtn" class="btn btn-ghost tiny">Sign out</button>
        </div>
      </div>
    </div>
  </header>

  <section class="page-header">
    <div class="container">
      <h1>Pricing</h1>
      <p class="muted">Simple, flexible plans. No hidden fees.</p>
    </div>
  </section>

  <section class="pricing">
    <div class="container plans-grid">

      <!-- Free -->
      <div class="plan card pad">
        <h2>Free</h2>
        <p class="price">$0 <small>/ month</small></p>
        <ul>
          <li><strong>Limit:</strong> 3 sticker generations / month</li>
          <li><strong>Limit:</strong> 3 photo (line-art) generations / month</li>
          <li>Download preview</li>
          <li class="muted">No commercial/print rights</li>
        </ul>
        <button class="btn-secondary" onclick="location.href='index.html'">Get Started</button>
      </div>

      <!-- Pro -->
      <div class="plan featured card pad">
        <div class="ribbon" aria-hidden="true">
          <span class="tail-left"></span>
          <span class="band">BEST VALUE</span>
          <span class="tail-right"></span>
        </div>

        <h2>Pro</h2>
        <p class="price">$5 <small>/ month</small></p>
        <ul>
          <li><strong>Unlimited</strong> sticker generations</li>
          <li><strong>Unlimited</strong> photo (line-art) generations</li>
          <li>High-resolution files</li>
          <li>Colorful designs</li>
          <li>Priority support</li>
        </ul>
        <button id="proUpgradeBtn" class="btn-primary">Upgrade Now</button>
        <div id="proMsgErr" class="error-bar"></div>
        <div id="proMsgOk" class="success-bar">Success! Redirecting to checkout…</div>
      </div>

    </div>
  </section>

  <section>
    <div class="container">
      <div class="card pad">
        <h3 style="margin:0 0 8px;">All plans include</h3>
        <p class="muted" style="margin:0;">
          Background cleanup, black-and-white line art, and optional white die-cut contour for stickers (transparent background).
        </p>
      </div>
    </div>
  </section>

  <section>
    <div class="container faq-grid">
      <div class="card pad">
        <h3 style="margin-top:0;">Can I switch plans later?</h3>
        <p class="muted">Yes—upgrade/downgrade anytime. Changes apply on the next billing cycle.</p>
      </div>
      <div class="card pad">
        <h3 style="margin-top:0;">Do I keep commercial rights?</h3>
        <p class="muted">Free is preview-only. Pro includes full commercial/print rights for your generated art.</p>
      </div>
    </div>
  </section>

  <section class="cta">
    <div class="container">
      <h2 style="margin:0 0 10px;">Ready to try it?</h2>
      <p class="muted" style="margin:0 0 18px;">Upload a photo and generate your first design in minutes.</p>
      <a href="index.html"><button class="btn-primary">Upload Your Boat</button></a>
    </div>
  </section>

  <footer>
    <div class="container">
      <p>&copy; 2025 Boat2Merch · All rights reserved.</p>
    </div>
  </footer>

  <!-- Pro checkout logic (kept) -->
  <script>
    const btn = document.getElementById('proUpgradeBtn');
    const errEl = document.getElementById('proMsgErr');
    const okEl = document.getElementById('proMsgOk');

    function showErr(msg) {
      errEl.textContent = msg || 'Something went wrong.';
      errEl.style.display = 'block';
      okEl.style.display = 'none';
    }
    function showOk(msg) {
      okEl.textContent = msg || 'Success! Redirecting…';
      okEl.style.display = 'block';
      errEl.style.display = 'none';
    }

    btn.addEventListener('click', async () => {
      errEl.style.display = 'none';
      okEl.style.display = 'none';

      try {
        const r = await fetch('/pro/checkout', { method: 'POST' });
        const t = await r.text();
        let payload = null;
        try { payload = JSON.parse(t); } catch {}
        if (!r.ok) {
          const m = (payload && payload.error) ? payload.error : ('HTTP ' + r.status);
          showErr('Checkout error: ' + m);
          return;
        }
        if (payload && payload.url) {
          showOk('Opening Stripe Checkout…');
          window.location.href = payload.url;
        } else {
          showErr('Checkout error: No URL returned.');
        }
      } catch (e) {
        showErr('Checkout error: ' + (e && e.message ? e.message : 'Network error'));
      }
    });

    // Show a tiny success note after returning from Stripe
    const usp = new URLSearchParams(location.search);
    if (usp.get('pro') === 'ok') {
      const proCard = document.getElementById('proMsgOk');
      if (proCard) {
        proCard.textContent = 'Thanks! Your Pro subscription is active.';
        proCard.style.display = 'block';
      }
      // Clean URL
      const url = new URL(location.href);
      url.searchParams.delete('pro');
      history.replaceState({}, '', url);
    }
  </script>

  <!-- Minimal header auth/plan wiring (cookie-backed) -->
  <script>
  (async () => {
    const signinBtn = document.getElementById("signinBtn");
    const userPill  = document.getElementById("userPill");
    const userEmail = document.getElementById("userEmail");
    const signoutBtn= document.getElementById("signoutBtn");
    const planBadge = document.getElementById("planBadge");

    const fetchJSON = async (url, opts) => {
      const r = await fetch(url, opts);
      const t = await r.text();
      try { return { ok: r.ok, status: r.status, json: JSON.parse(t) }; }
      catch { return { ok: r.ok, status: r.status, json: t }; }
    };

    function setAuthedState(email) {
      const authed = !!email;
      if (authed) {
        signinBtn?.classList.add("hidden");
        userPill?.classList.remove("hidden");
        if (userEmail) userEmail.textContent = email;
      } else {
        signinBtn?.classList.remove("hidden");
        userPill?.classList.add("hidden");
        if (userEmail) userEmail.textContent = "";
      }
    }
    function setPlanBadgeUI(plan) {
      const p = (plan || "free").toLowerCase();
      if (!planBadge) return;
      if (p === "pro") {
        planBadge.textContent = "PRO";
        planBadge.classList.add("pro");
      } else {
        planBadge.textContent = "FREE";
        planBadge.classList.remove("pro");
      }
    }

    // Redirect to index to open the auth modal (reuses the modal there)
    signinBtn?.addEventListener("click", () => {
      const here = location.pathname.replace(/^\//, "");
      const url = new URL("index.html", location.origin);
      url.hash = "signin";
      url.searchParams.set("from", here);
      location.href = url.toString();
    });

    signoutBtn?.addEventListener("click", async () => {
      await fetchJSON("/auth/signout", { method: "POST" });
      setAuthedState(null);
      setPlanBadgeUI("free");
    });

    // Read cookie-backed session & plan
    try {
      const s = await fetchJSON("/auth/session");
      setAuthedState(s.ok && s.json?.user?.email ? s.json.user.email : null);
    } catch { setAuthedState(null); }

    try {
      const p = await fetchJSON("/me/plan");
      setPlanBadgeUI(p.ok && p.json?.plan ? p.json.plan : "free");
    } catch { setPlanBadgeUI("free"); }

    // Honor ?login=ok if you ever link back here after verify
    const usp = new URLSearchParams(location.search);
    if (usp.get("login") === "ok") {
      const url = new URL(location.href);
      url.searchParams.delete("login");
      history.replaceState({}, "", url);
      try {
        const s = await fetchJSON("/auth/session");
        setAuthedState(s.ok && s.json?.user?.email ? s.json.user.email : null);
        const p = await fetchJSON("/me/plan");
        setPlanBadgeUI(p.ok && p.json?.plan ? p.json.plan : "free");
      } catch {}
    }
  })();
  </script>
</body>
</html>


